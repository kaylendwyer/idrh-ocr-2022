<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Tesseract - Intro to OCR & Unix Shell</title> <link rel="shortcut icon" href="/idrh-ocr-2022/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/idrh-ocr-2022/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/idrh-ocr-2022/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/idrh-ocr-2022/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Tesseract | Intro to OCR &amp; Unix Shell</title> <meta name="generator" content="Jekyll v4.2.2" /> <meta property="og:title" content="Tesseract" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="http://localhost:4000/idrh-ocr-2022/tesseract/" /> <meta property="og:url" content="http://localhost:4000/idrh-ocr-2022/tesseract/" /> <meta property="og:site_name" content="Intro to OCR &amp; Unix Shell" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Tesseract" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","headline":"Tesseract","url":"http://localhost:4000/idrh-ocr-2022/tesseract/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/idrh-ocr-2022/" class="site-title lh-tight"> Intro to OCR & Unix Shell </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/idrh-ocr-2022/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="http://localhost:4000/idrh-ocr-2022/setup/" class="nav-list-link">Setup</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/idrh-ocr-2022/modules/" class="nav-list-link">Modules</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/idrh-ocr-2022/unix-shell/" class="nav-list-link">Unix Shell</a></li><li class="nav-list-item "><a href="http://localhost:4000/idrh-ocr-2022/introduction-to-ocr/" class="nav-list-link">Introduction to OCR</a></li><li class="nav-list-item active"><a href="http://localhost:4000/idrh-ocr-2022/tesseract/" class="nav-list-link active">Tesseract</a></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/idrh-ocr-2022/resources/" class="nav-list-link">Resources</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Intro to OCR & Unix Shell" aria-label="Search Intro to OCR & Unix Shell" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://idrh.ku.edu/" class="site-button" > The Institute for Digital Research in the Humanities </a> </li> <li class="aux-nav-list-item"> <a href="//github.com/kaylendwyer/idrh-ocr-2022" class="site-button" > View on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/idrh-ocr-2022/modules/">Modules</a></li> <li class="breadcrumb-nav-list-item"><span>Tesseract</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="ocr-with-tesseract"> <a href="#ocr-with-tesseract" class="anchor-heading" aria-labelledby="ocr-with-tesseract"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> OCR with Tesseract </h1> <h2 id="the-basics"> <a href="#the-basics" class="anchor-heading" aria-labelledby="the-basics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> The Basics </h2> <p>Tesseract’s default settings are set to recognize English language, use automatic page segmentation (recognizing page format and columns), and genarate a plain text file.</p> <p>The simplest way to invoke tesseract :</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tesseract myimage.jpg myimage
</code></pre></div></div> <h3 id="example-basic-ocr"> <a href="#example-basic-ocr" class="anchor-heading" aria-labelledby="example-basic-ocr"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example: Basic OCR </h3> <p><img alt="A Christmas Carol" src="../data/christmas-carol-pg1.jpg" width="600px" /></p> <p>Input:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tesseract christmas-carol-pg1.jpg christmas-carol-pg1-output
</code></pre></div></div> <p>Result:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A CHRISTMAS CAROL.

STAVE I.

MARLEY’S GHOST.

Marry was dead: to begin with. There is no
doubt whatever about that. The register of his
burial was signed by the clergyman, the clerk, the
undertaker, and the chief mourner. Scrooge signed
it: and Scrooge’s name was good upon ‘Change, for
anything he chose to put his hand to. Old Marley
was as dead as a door-nail.

Mind! I don’t mean to say that I know, of my
own knowledge, what there is particularly dead
about a door-nail. I might have been inclined,
myself, to regard a coffin-nail as the deadest piece
of ironmongery in the trade. But the wisdom of

our ancestors is in the simile; and my unhallowed
B
</code></pre></div></div> <h2 id="language-parameter"> <a href="#language-parameter" class="anchor-heading" aria-labelledby="language-parameter"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Language Parameter </h2> <p>For documents in languages other than English, it is often necessary to specify the language(s) or script(s). The <code class="language-plaintext highlighter-rouge">-l</code> flag allows you to select one or multiple languages, specified by</p> <p>Languages are specificed by codes 2-4 letters long, such as <code class="language-plaintext highlighter-rouge">eng</code> (English), <code class="language-plaintext highlighter-rouge">fra</code> (French), or <code class="language-plaintext highlighter-rouge">spa</code> (Spanish).</p> <p>Read more: <a href="https://github.com/tesseract-ocr/tesseract/blob/main/doc/tesseract.1.asc#languages-and-scripts">Tesseract: Languages &amp; Scripts</a></p> <h3 id="example-set-language-parameter"> <a href="#example-set-language-parameter" class="anchor-heading" aria-labelledby="example-set-language-parameter"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example: Set language parameter </h3> <p><img alt="Cyrano De Bergerac French" src="../data/cyrano_fra_cover.jpg" width="600px" /></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tesseract cyrano_fra_cover.jpg cyrano_fra_cover_out -l fra
</code></pre></div></div> <p>Result:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>EDMOND ROSTAND

CYRANO

COMÉDIE HÉROÏQUE EN CINQ ACTES
EN VERS

Représentée à Paris, sur le Théâtre de la Porte Saint-Martin,
le 28 décembre 1897

 

NEw YorK
WILLIAM R. JENKINS
ÉDITEUR ET LIBRAIRE FRANÇAIS
851 &amp; 853 SIXTH AVENUE

cl
</code></pre></div></div> <p>Use Lang+Lang for multilingual documents:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tesseract cyrano_fra_cover.jpg cyrano_fra_cover_out -l fra+eng
</code></pre></div></div> <h2 id="page-segmentation-modes-psm"> <a href="#page-segmentation-modes-psm" class="anchor-heading" aria-labelledby="page-segmentation-modes-psm"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Page Segmentation Modes (PSM) </h2> <p>Page segmentation refers to the structure of the text on the file, whether the page contains a single block of text, columns, a single word, a word in a circle, etc. Tesseract assumes a single block of text. You can improve text detection by manually setting the page segmentation mode.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Page segmentation modes:
  0    Orientation and script detection (OSD) only.
  1    Automatic page segmentation with OSD.
  2    Automatic page segmentation, but no OSD, or OCR. (not implemented)
  3    Fully automatic page segmentation, but no OSD. (Default)
  4    Assume a single column of text of variable sizes.
  5    Assume a single uniform block of vertically aligned text.
  6    Assume a single uniform block of text.
  7    Treat the image as a single text line.
  8    Treat the image as a single word.
  9    Treat the image as a single word in a circle.
 10    Treat the image as a single character.
 11    Sparse text. Find as much text as possible in no particular order.
 12    Sparse text with OSD.
 13    Raw line. Treat the image as a single text line,
       bypassing hacks that are Tesseract-specific.
</code></pre></div></div> <p>Resource: <a href="https://pyimagesearch.com/2021/11/15/tesseract-page-segmentation-modes-psms-explained-how-to-improve-your-ocr-accuracy/">Page segmentation modes explained with clear examples</a></p> <h3 id="example-improve-text-detection-with-psm"> <a href="#example-improve-text-detection-with-psm" class="anchor-heading" aria-labelledby="example-improve-text-detection-with-psm"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example: Improve text detection with PSM </h3> <p>The following example contains a list of characters in two columns.</p> <p><img alt="Cyrano De Bergerac French" src="../data/cyrano_eng_persons.jpg" width="600px" /></p> <p>The default page segmentation mode (<code class="language-plaintext highlighter-rouge">--psm 3</code>) is fully automated. In this instance, the automated psm fails to recognize the columns on the page. Each character should be listed on its own line.</p> <p>Input:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> tesseract cyrano_eng_persons.jpg cyrano_eng_persons_default
</code></pre></div></div> <p>Output:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>THE PERSONS

Cyrano pE Brrorrac The Porter
CurisTIAN DE Ngvuvittetre A Citizen

Comre pr GuICHE His Son
RacuENEAU A Cut-Purse

Lz Brer A Spectator
Carson bE Casret-JaLoux A Sentry

The Cadets Bertrandou the Fifer
LicntbRE A Capuchin
VicoMTE DE VALVERT Two Musicians

A Marouts The Poets

Second Marquis The Pastrycooks
Third Marquis The Pages
Montfleury Roxane

Bellerose Her Dusnna
Jodelet Lisz

Cuicy Tue Orance-Gi
BRIssAILLE Moruer MarcufrirTs DE Jésus
A Meddler StsreR MARTHE

A Musketeer StsTER CLAIRE
Another Musketeer An Actress

A Spanish Officer A Soubrette

A Cavalier The Flower-Girl

The Crowd, Citizens, Marquis, Musketeers, Thieves, Pas-
trycooks, Poets, Cadets of Gascoyne, Actors, Violins, Pages,
Children, Spanish Soldiers, Spectators, Intellectuals, Acade-
micians, Nuns, etc.
</code></pre></div></div> <p>On this document, PSM 11 (Sparse Text: Find as Much Text as Possible in No Particular Order) did the trick.</p> <p>Input:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> tesseract cyrano_eng_persons.jpg cyrano_eng_persons_default --psm 11
</code></pre></div></div> <p>Output:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>THE PERSONS

Cyrano pE Brrorrac

The Porter

CuristTIAN DE NEUVILLETTE

A Citizen

His Son

Comte pr GuicHE

RacuENEAU

A Cut-Purse

Le Brer

A Spectator

Carson DE CasTEL-JALOUX

A Sentry

The Cadets

Bertrandou the Fifer

LicnizRE

A Capuchin

Two Musicians

VicoMTE DE VALVERT

A Marouts

The Poets

Second Marquis

The Pastrycooks

Third Marquis

The Pages

Montfleury

Roxang

Bellerose

Her Dusnna

Lisz

Jodelet

Cuicy

Tue Orancz-Girt

BrissAILLE

Moruer MarcufrirTs DE Jésus

A Meddler

Sister MARTHE

A Musketeer

StsTER CLAIRE

Another Musketeer

An Actress

A Soubrette

A Spanish Officer

A Cavalier

The Flower-Girl

The Crowd, Citizens, Marquis, Musketeers, Thieves, Pas-

trycooks, Poets, Cadets of Gascoyne, Actors, Violins, Pages,

Children, Spanish Soldiers, Spectators, Intellectuals, Acade-

micians, Nuns, etc.

</code></pre></div></div> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
